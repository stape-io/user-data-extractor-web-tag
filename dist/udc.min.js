/*! @stape-io/udc v1.0.0 | 2025-11-20T15:19:52.435Z */
var collectUserDataAuto=function(){"use strict";let e=!1,t=!1;function a(a={}){try{const r={root:document,extract:{email:!0,phone:!0,city:!1,country:!1,postalCode:!1,firstName:!1,lastname:!1},overrideExistingUserData:!1,pushToDataLayer:{enabled:!1,event:"user_data_detected",dataLayerName:"dataLayer"},autoTrackSpecificClicks:{enabled:!1,buttonClickSelector:null},autoTrackSpecificForms:{enabled:!1,formSelector:null},saveIntoStorage:{enabled:!1,type:"session",key:"gtm_user_data"}},i={...r,...a,pushToDataLayer:{...r.pushToDataLayer,...a.pushToDataLayer||{}},autoTrackSpecificClicks:{...r.autoTrackSpecificClicks,...a.autoTrackSpecificClicks||{}},autoTrackSpecificForms:{...r.autoTrackSpecificForms,...a.autoTrackSpecificForms||{}},saveIntoStorage:{...r.saveIntoStorage,...a.saveIntoStorage||{}}},o=function(e,t){let a;return function(){const n=arguments,r=this;a||(e.apply(r,n),a=!0,setTimeout(()=>a=!1,t))}}(e=>n(e),1e3);!function(t,a){try{const{autoTrackSpecificClicks:{enabled:n,buttonClickSelector:r}}=t;if(!n||e)return;const i=e=>{try{const n=r||'button[type="submit"], input[type="submit"]',i=e.target.closest(n);i&&a({...t,root:i.form||document})}catch(e){console.error("Error in addSubmitClickListener click event handler:",e)}};document.addEventListener("click",i,!0),e=!0}catch(e){console.error("Error in addSubmitClickListener:",e)}}(i,o),function(e,a){try{const{autoTrackSpecificForms:{enabled:n,formSelector:r}}=e;if(!n||t)return;const i=t=>{try{const n=r||"form",i=t.target.closest(n);i&&a({...e,root:i||document})}catch(e){console.error("Error in addSubmitFormListener submit event handler:",e)}};document.addEventListener("submit",i,!0),t=!0}catch(e){console.error("Error in addSubmitFormListener:",e)}}(i,o);return n(i)}catch(e){return console.error("Error in collectUserDataAuto:",e),{}}}function n(e){const t=function(e){const{root:t,extract:a}=e,n=function(e){const t=[],a=[],n=Array.from(e.querySelectorAll("input, textarea"));for(const e of n)o(e)&&t.push(e);const r=Array.from(e.querySelectorAll("select"));for(const e of r)o(e)&&a.push(e);return{inputsAndTextAreas:t,selects:a}}(t),p={};if(a.email){const e=function(e){const{inputsAndTextAreas:t}=e,a=["support","noreply"],n=function(){try{return location.hostname||""}catch(e){return""}}(),i=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/gi,o=[],s=new Set,c=e=>{if(e)return e.trim().toLowerCase()},u=e=>!!e&&(!a.some(t=>e.includes(t))&&(!n||!function(e,t){try{const a=e.split("@")[1]||"";return t&&a&&t===a}catch(e){return!1}}(e,n)));for(const e of t){const t=(e.getAttribute("type")||"").toLowerCase(),a=(e.getAttribute("id")||"").toLowerCase(),n=(e.getAttribute("name")||"").toLowerCase(),l=(e.getAttribute("placeholder")||"").toLowerCase();if(!("email"===t||a.includes("email")||n.includes("email")||l.includes("email")))continue;const d=String(e.value||"").match(i);if(!d)continue;const m=c(d[0]);u(m)&&!s.has(m)&&(s.add(m),o.push({value:m,el:e,score:r({el:e,value:m,source:e.tagName.toLowerCase(),visible:g(e)})}))}return o}(n),t=i(e);t&&(p.email=t.value)}if(a.phone){const e=function(e){const{inputsAndTextAreas:t}=e,a=/[\-@#<>'",; ]|\(|\)|\+|[a-z]/gi,n=/^00/,i=/^\d{7,}$/,o=/^\+?\d{1,4}[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,s=[],c=new Set,u=e=>{if(e)return String(e).replace(a,"").replace(n,"").replace(/[^\d]/g,"")},l=(e,t)=>t&&i.test(t)||"string"==typeof e&&o.test(e.trim());for(const e of t){const t=(e.getAttribute("type")||"").toLowerCase(),a=(e.getAttribute("id")||"").toLowerCase(),n=(e.getAttribute("name")||"").toLowerCase(),i=(e.getAttribute("placeholder")||"").toLowerCase();if(!("tel"===t||a.includes("phone")||n.includes("phone")||a.includes("tel")||n.includes("tel")||i.includes("phone")||i.includes("tel")))continue;const o=e.value,d=u(o);l(o,d)&&!c.has(d)&&(c.add(d),s.push({value:d,el:e,score:r({el:e,value:d,source:e.tagName.toLowerCase(),visible:g(e)})}))}return s}(n),t=i(e);t&&(p.phone=t.value)}if(a.city){const e=function(e){const t=[...e.inputsAndTextAreas,...e.selects],a=["city","$city"],n=[],i=new Set,o=e=>{if(e)return String(e).toLowerCase().trim()},s=(e,t)=>u(e,t,a);for(const e of t){const t=c(e);if(!t)continue;if(!s(e,t))continue;const a=o(t);a&&!i.has(a)&&(i.add(a),n.push({value:a,el:e,score:r({el:e,value:a,source:e.tagName.toLowerCase(),visible:g(e)})}))}return n}(n),t=i(e);t&&(p.city=t.value)}if(a.country){const e=function(e){const t=[...e.inputsAndTextAreas,...e.selects],a=["country"],n=[],i=new Set,o=(e,t)=>u(e,t,a),s=(e,t)=>{const a=String(e||"").toLowerCase().trim().replace(/[^a-z]/g,"");if(!a)return"";if(2===a.length)return a;if(t[a])return t[a];for(const e of Object.keys(t))if(a.includes(e))return t[e];return a},l=(e,{skipMapping:t=!1}={})=>{if(!e)return;let a=String(e);return t||(a=s(a,b)),a=a.toLowerCase().replace(/[^a-z]/g,""),/^[a-z]+$/.test(a)?a.substring(0,2):null};for(const e of t){const t=c(e);if(!t)continue;if(!o(e,t))continue;const a=l(t);a&&!i.has(a)&&(i.add(a),n.push({value:a,el:e,score:r({el:e,value:a,source:e.tagName.toLowerCase(),visible:g(e)})}))}return n}(n),t=i(e);t&&(p.country=t.value)}if(a.postalCode){const e=function(e){const t=[...e.inputsAndTextAreas,...e.selects],a=["zip","zcode","pcode","postalcode","postcode"],n=[],i=new Set,o=(e,t)=>u(e,t,a),s=e=>{if(!e)return;const t=String(e).trim();return/^\d{5}(?:[-\s]\d{4})?$/.test(t)?t:null};for(const e of t){const t=c(e);if(!t)continue;if(!o(e,t))continue;const a=s(t);a&&!i.has(a)&&(i.add(a),n.push({value:a,el:e,score:r({el:e,value:a,source:e.tagName.toLowerCase(),visible:g(e)})}))}return n}(n),t=i(e);t&&(p.postal_code=t.value)}if(a.firstName){const e=function(e){const{inputsAndTextAreas:t}=e,a=[],n=new Set,i=e=>["firstname","fn","fname","givenname","forename"].some(t=>l(e,t));for(const e of t){const t=d(e);if(!t.value)continue;let o=null;if(i(t))o=t.value;else if(m(t)){const[e]=f(t.value);e&&(o=e)}if(o){const t=s(o);t&&!n.has(t)&&(n.add(t),a.push({value:t,el:e,score:r({el:e,value:t,source:e.tagName.toLowerCase(),visible:g(e)})}))}}return a}(n),t=i(e);t&&(p.first_name=t.value)}if(a.lastName){const e=function(e){const{inputsAndTextAreas:t}=e,a=[],n=new Set,i=e=>["lastname","ln","lname","surname","sname","familyname"].some(t=>l(e,t));for(const e of t){const t=d(e);if(!t.value)continue;let o=null;if(i(t))o=t.value;else if(m(t)){const[,e]=f(t.value);e&&(o=e)}if(o){const t=s(o);t&&!n.has(t)&&(n.add(t),a.push({value:t,el:e,score:r({el:e,value:t,source:e.tagName.toLowerCase(),visible:g(e)})}))}}return a}(n),t=i(e);t&&(p.last_name=t.value)}return p}(e),n=function(e){try{const{saveIntoStorage:{enabled:t,type:a="session",key:n="gtm_user_data"}}=e,r={session:window.sessionStorage,local:window.localStorage};if(!t)return;const i=r[a].getItem(n);if(!i)return;return JSON.parse(i)}catch(e){console.error("Error in getFromStorage:",e)}}(e),h={...a.userData,...n,...t}||{},v=a.userData=e.overrideExistingUserData?t:h;return function(e,t){try{const{pushToDataLayer:{enabled:a,dataLayerName:n="dataLayer",event:r="user_data_detected"}}=t;if(!a||p(e))return;const i={event:r,user_data:e,_clear:!0},o=n;window[o]=window[o]||[],window[o].push(i)}catch(e){console.error("Error in pushToDataLayer:",e)}}(v,e),function(e,t){try{const{saveIntoStorage:{enabled:a,type:n="session",key:r="gtm_user_data"}}=t,i={session:window.sessionStorage,local:window.localStorage};if(!a||p(e))return;i[n].setItem(r,JSON.stringify(e))}catch(e){console.error("Error in saveIntoStorage:",e)}}(v,e),v}function r(e){let t=0;return"input"===e.source&&(t+=2),e.visible&&(t+=2),function(e,t){try{return e&&e.closest?e.closest(t):null}catch(e){return null}}(e.el,"a")&&(t-=2),t-=Math.min(2,Math.max(0,(e.value.length-18)/20)),t}function i(e){if(!e||0===e.length)return null;const t=e=>{const t=function(e,t){if(!e||!t)return Number.POSITIVE_INFINITY;let a=0,n=e;for(;n;){if(n===t)return a;a++,n=n.parentElement}return a+1e3}(e,a);return Number.isFinite(t)?t:1e9},a=document.activeElement;return e.slice().sort((e,a)=>a.score!==e.score?a.score-e.score:t(e.el)-t(a.el))[0]}function o(e){const t=(e.getAttribute("type")||"").toLowerCase();if("password"===t||"hidden"===t||"button"===t||"submit"===t||"image"===t)return!1;const a=(e.tagName||"").toLowerCase();return!["script","style","noscript","image","br","svg","path","canvas"].includes(a)}function s(e){return"string"!=typeof e||e.length>100?null:e.trim().toLowerCase()}function c(e){if("SELECT"===e.tagName){const t=e.selectedOptions&&e.selectedOptions[0];return(t&&(t.textContent||t.value)||"").trim()}return/^(checkbox|radio)$/i.test(e.type)?e.checked?(e.value||e.getAttribute("value")||"").trim():"":(e.value||"").trim()}function u(e,t,a){const n=e.getAttribute("id")||"",r=e.getAttribute("name")||"",i=e.getAttribute("placeholder")||"",o=(e,t)=>{const a=(e||"").toLowerCase(),n=t.toLowerCase();return n.length>2?a.includes(n):a===n};return a.some(e=>o(n,e)||o(r,e)||o(i,e)||o(t,e))}function l(e,t){const a=[e.name,e.id,e.placeholder,e.value].map(e=>(e||"").toLowerCase()),n=t.toLowerCase();return n.length>2?a.some(e=>e.includes(n)):a.some(e=>e===n)}function d(e){return{id:(e.getAttribute("id")||"").trim(),name:(e.getAttribute("name")||"").trim(),placeholder:(e.getAttribute("placeholder")||"").trim(),value:c(e),inputType:(e.getAttribute("type")||"").toLowerCase()}}function m(e){return["fullname"].some(t=>l(e,t))}function f(e){const t=(e||"").trim().split(/\s+/);return[t[0]||"",t.slice(1).join(" ").trim()]}function g(e){const t=getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility||0===parseFloat(t.opacity||"1"))return!1;const a=e.getBoundingClientRect();return!!(a.width>0&&a.height>0)}function p(e){return!(!e||"object"!=typeof e)&&0===Object.keys(e).length}const b={unitedstates:"us",usa:"us",ind:"in",afghanistan:"af",alandislands:"ax",albania:"al",algeria:"dz",americansamoa:"as",andorra:"ad",angola:"ao",anguilla:"ai",antarctica:"aq",antiguaandbarbuda:"ag",argentina:"ar",armenia:"am",aruba:"aw",australia:"au",austria:"at",azerbaijan:"az",bahamas:"bs",bahrain:"bh",bangladesh:"bd",barbados:"bb",belarus:"by",belgium:"be",belize:"bz",benin:"bj",bermuda:"bm",bhutan:"bt",boliviaplurinationalstateof:"bo",bolivia:"bo",bonairesinteustatinsandsaba:"bq",bosniaandherzegovina:"ba",botswana:"bw",bouvetisland:"bv",brazil:"br",britishindianoceanterritory:"io",bruneidarussalam:"bn",brunei:"bn",bulgaria:"bg",burkinafaso:"bf",burundi:"bi",cambodia:"kh",cameroon:"cm",canada:"ca",capeverde:"cv",caymanislands:"ky",centralafricanrepublic:"cf",chad:"td",chile:"cl",china:"cn",christmasisland:"cx",cocoskeelingislands:"cc",colombia:"co",comoros:"km",congo:"cg",congothedemocraticrepublicofthe:"cd",democraticrepublicofthecongo:"cd",cookislands:"ck",costarica:"cr",cotedivoire:"ci",ivorycoast:"ci",croatia:"hr",cuba:"cu",curacao:"cw",cyprus:"cy",czechrepublic:"cz",denmark:"dk",djibouti:"dj",dominica:"dm",dominicanrepublic:"do",ecuador:"ec",egypt:"eg",elsalvador:"sv",equatorialguinea:"gq",eritrea:"er",estonia:"ee",ethiopia:"et",falklandislandsmalvinas:"fk",faroeislands:"fo",fiji:"fj",finland:"fi",france:"fr",frenchguiana:"gf",frenchpolynesia:"pf",frenchsouthernterritories:"tf",gabon:"ga",gambia:"gm",georgia:"ge",germany:"de",ghana:"gh",gibraltar:"gi",greece:"gr",greenland:"gl",grenada:"gd",guadeloupe:"gp",guam:"gu",guatemala:"gt",guernsey:"gg",guinea:"gn",guineabissau:"gw",guyana:"gy",haiti:"ht",heardislandandmcdonaldislands:"hm",holyseevaticancitystate:"va",vatican:"va",honduras:"hn",hongkong:"hk",hungary:"hu",iceland:"is",india:"in",indonesia:"id",iranislamicrepublicof:"ir",iran:"ir",iraq:"iq",ireland:"ie",isleofman:"im",israel:"il",italy:"it",jamaica:"jm",japan:"jp",jersey:"je",jordan:"jo",kazakhstan:"kz",kenya:"ke",kiribati:"ki",koreademocraticpeoplesrepublicof:"kp",northkorea:"kp",korearepublicof:"kr",southkorea:"kr",kuwait:"kw",kyrgyzstan:"kg",laopeoplesdemocraticrepublic:"la",laos:"la",latvia:"lv",lebanon:"lb",lesotho:"ls",liberia:"lr",libya:"ly",liechtenstein:"li",lithuania:"lt",luxembourg:"lu",macao:"mo",macedoniatheformeryugoslavrepublicof:"mk",macedonia:"mk",madagascar:"mg",malawi:"mw",malaysia:"my",maldives:"mv",mali:"ml",malta:"mt",marshallislands:"mh",martinique:"mq",mauritania:"mr",mauritius:"mu",mayotte:"yt",mexico:"mx",micronesiafederatedstatesof:"fm",micronesia:"fm",moldovarepublicof:"md",moldova:"md",monaco:"mc",mongolia:"mn",montenegro:"me",montserrat:"ms",morocco:"ma",mozambique:"mz",myanmar:"mm",namibia:"na",nauru:"nr",nepal:"np",netherlands:"nl",newcaledonia:"nc",newzealand:"nz",nicaragua:"ni",niger:"ne",nigeria:"ng",niue:"nu",norfolkisland:"nf",northernmarianaislands:"mp",norway:"no",oman:"om",pakistan:"pk",palau:"pw",palestinestateof:"ps",palestine:"ps",panama:"pa",papuanewguinea:"pg",paraguay:"py",peru:"pe",philippines:"ph",pitcairn:"pn",poland:"pl",portugal:"pt",puertorico:"pr",qatar:"qa",reunion:"re",romania:"ro",russianfederation:"ru",russia:"ru",rwanda:"rw",saintbarthelemy:"bl",sainthelenaascensionandtristandacunha:"sh",saintkittsandnevis:"kn",saintlucia:"lc",saintmartinfrenchpart:"mf",saintpierreandmiquelon:"pm",saintvincentandthegrenadines:"vc",samoa:"ws",sanmarino:"sm",saotomeandprincipe:"st",saudiarabia:"sa",senegal:"sn",serbia:"rs",seychelles:"sc",sierraleone:"sl",singapore:"sg",sintmaartenductchpart:"sx",slovakia:"sk",slovenia:"si",solomonislands:"sb",somalia:"so",southafrica:"za",southgeorgiaandthesouthsandwichislands:"gs",southsudan:"ss",spain:"es",srilanka:"lk",sudan:"sd",suriname:"sr",svalbardandjanmayen:"sj",eswatini:"sz",swaziland:"sz",sweden:"se",switzerland:"ch",syrianarabrepublic:"sy",syria:"sy",taiwanprovinceofchina:"tw",taiwan:"tw",tajikistan:"tj",tanzaniaunitedrepublicof:"tz",tanzania:"tz",thailand:"th",timorleste:"tl",easttimor:"tl",togo:"tg",tokelau:"tk",tonga:"to",trinidadandtobago:"tt",tunisia:"tn",turkey:"tr",turkmenistan:"tm",turksandcaicosislands:"tc",tuvalu:"tv",uganda:"ug",ukraine:"ua",unitedarabemirates:"ae",unitedkingdom:"gb",unitedstatesofamerica:"us",unitedstatesminoroutlyingislands:"um",uruguay:"uy",uzbekistan:"uz",vanuatu:"vu",venezuelabolivarianrepublicof:"ve",venezuela:"ve",vietnam:"vn",virginislandsbritish:"vg",virginislandsus:"vi",wallisandfutuna:"wf",westernsahara:"eh",yemen:"ye",zambia:"zm",zimbabwe:"zw"};return a}();
